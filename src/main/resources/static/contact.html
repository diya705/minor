<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us </title>
    <link rel="shortcut icon" href="image/favicon.ico" type="image/svg+xml">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <link rel="stylesheet" href="contact_style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body>
    <section class="header">
        <nav>
            <a href="index.html"><img src="images/comlogo.png" alt=""></a>
            <div class="search">
                <input class="srch" type="search" placeholder="Search...">
                <button class="btn" type="submit">Search</button>

            </div>
                
              
            <div class="nav-links" id="navLinks">
                <span class="icon" onclick="hidemenu()">&#10005;</span>
                <ul>
                    <li><a href="login.html">Signup/Login</a></li>
                    <li><a href="https://deva-autotronics.co.in/">About</a></li>
                    <li><a href="">Contact</a></li>
                    <li><a href="profile.html"><span class="material-symbols-outlined">account_circle</span></a></li>
                    
                    
                </ul> 
            </div>
            <span class="icon" onclick="showmenu()">&#9776;</span>
        </nav>
        <div class="wrapper">
		<div class="r_form_wrap">
			
			<div class="title">
				<p>Contact form</p>
			</div>
			
			
			<div class="r_form">
				<form method="post" onsubmit="sendmail(); reset(); return false;">
					<div class="input_wrap">
						<label for="yourname">Your Name</label>
						<div class="input_item">
							<i class="fa fa-user" id="icon"></i>
							<input type="text" name="your name" class="input" id="yourname" placeholder="Enter the name" required>
						</div>
					</div>
					<div class="input_wrap">
						<label for="emailaddress">Email Address</label>
						<div class="input_item">
							<i class="fa fa-envelope" id="icon"></i>
							<input type="email" name="email address" class="input" id="emailaddress" placeholder="Enter the Email ID" required>
						</div>
					</div>

					<div class="input_wrap">
						<label for="problem">Problem</label>
						<div class="input_item">
							<i class="fa fa-commenting" id="icon"></i>
                            <textarea name="problem" class="mess" id="problem" placeholder="Write your message..." size="500"></textarea>
						</div>
					</div>
					
	
					<input type="submit" class="button" value="Send Message">
					<div ></div>
					<input type="reset" class="clear_ad" value="Clear">
					
				</form>
			</div>
        </div>
        </div>
    </section>

    <div class="none_div"></div>
   

    
</body>
<!--<script src=" https://smtpjs.com/v3/smtp.js"></script>-->
<script>
     async function sendmail() {
        const form = document.querySelector('form');
        const formData = new FormData(form);
        const data = {
            name: formData.get('your name'),
            email: formData.get('email address'),
            message: formData.get('problem')
        };

        try {
            const response = await fetch('/api/contact', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            });

            if (response.ok) {
                alert("Your message has been sent successfully!");
            } else {
                alert("There was an error sending your message.");
            }
        } catch (error) {
            alert("There was an error sending your message.");
        }
    }
</script>

</html>